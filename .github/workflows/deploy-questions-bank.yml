name: "ğŸš€ Deploy Entire Repo to InfinityFree"

on:
  push:
    branches: [main]
    # (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø´ØºÙ‘Ù„ Ø§Ù„Ø±ÙØ¹ ÙÙ‚Ø· Ø¹Ù†Ø¯ ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„ÙØ§Øª Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    paths:
      - 'basic_data/**'
      - 'basic_js/**'
      - 'data/**'
      - 'exp_data/**'
      - 'basic_index.html'
      - '.htaccess'
      - '.github/workflows/deploy-questions-bank.yml'
  workflow_dispatch: {}

jobs:
  ftp-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Deploy via FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.0
        with:
          server: ${{ secrets.FTP_HOST }}          # Ù…Ø«Ø§Ù„: ftpupload.net Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          # Ù„Ùˆ Ø§Ø³ØªØ¶Ø§ÙØªÙƒ ØªØ¯Ø¹Ù… SFTP:
          # protocol: sftp
          # port: 22
          # Ù„Ùˆ FTP ÙÙ‚Ø· Ø§ØªØ±Ùƒ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (port 21)

          local-dir: ./
          server-dir: /public_html/questions-bank/

          exclude: |
            **/.git*
            **/.github/**
            **/node_modules/**
            **/.DS_Store

          log-level: standard
          dangerous-clean-slate: true    # Ù„Ø§ ØªØ´ØºÙ‘Ù„Ù‡Ø§ Ø¯Ø§Ø¦Ù…Ù‹Ø§ (Ø§Ø³ØªØ¹Ù…Ù„Ù‡Ø§ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©)
