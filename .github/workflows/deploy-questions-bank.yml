name: "ğŸš€ Auto Deploy on Push"

on:
  push:
    branches: [ main ]
    # ØªØ¬Ù†Ù‘Ø¨ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø´Ø± Ø¹Ù†Ø¯ ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„ÙØ§Øª Ø§Ù„ÙˆØ±ÙƒÙÙ„Ùˆ Ù†ÙØ³Ù‡Ø§
    paths-ignore:
      - ".github/workflows/**"
  workflow_dispatch: {}

concurrency:
  group: ftp-deploy
  cancel-in-progress: true

jobs:
  deploy:
    runs-on: ubuntu-latest
    timeout-minutes: 20
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Deploy via FTP (sync changes)
        uses: SamKirkland/FTP-Deploy-Action@v4.3.6
        with:
          # Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù€ IP Ø§Ù„Ø°ÙŠ Ù†Ø¬Ø­ Ù…Ø¹Ùƒ
          server: 31.22.4.48
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          protocol: ftp
          port: 21

          # Ù…Ø³Ø§Ø±Ø§Øª
          local-dir: ./
          server-dir: public_html/questions-bank/

          # Ù…Ù‡Ù…: Ø§Ø¬Ø¹Ù„Ù‡Ø§ false Ù„ÙŠØ¹Ù…Ù„ Ø¨Ù€ "Ù…Ø²Ø§Ù…Ù†Ø©" (ÙŠØ±ÙØ¹/ÙŠØ­Ø¯Ù‘Ø«/ÙŠØ­Ø°Ù Ø§Ù„ÙØ±Ù‚ ÙÙ‚Ø·)
          dangerous-clean-slate: false

          # Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª Ø´Ø§Ø¦Ø¹Ø© Ù…Ù† Ø§Ù„Ø±ÙØ¹/Ø§Ù„Ø­Ø°Ù
          exclude: |
            **/.git*
            **/.github/**
            **/node_modules/**
            **/.DS_Store
            .well-known/**

          log-level: verbose
